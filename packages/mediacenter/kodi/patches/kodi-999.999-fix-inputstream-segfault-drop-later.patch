From 4468a73270a2909dba1c5c59dc7f8f3e208a4991 Mon Sep 17 00:00:00 2001
From: mapfau <pfau@peak3d.de>
Date: Mon, 14 Mar 2016 20:01:26 +0100
Subject: [PATCH] make URIUtils::GetDirectory persinstent while calling
 Inputstream::Open()

---
 xbmc/addons/InputStream.cpp | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/xbmc/addons/InputStream.cpp b/xbmc/addons/InputStream.cpp
index 6412bb3..570728e 100644
--- a/xbmc/addons/InputStream.cpp
+++ b/xbmc/addons/InputStream.cpp
@@ -120,7 +120,9 @@ bool CInputStream::Open(CFileItem &fileitem)
     props.m_nCountInfoValues++;
   }
   props.m_strURL = fileitem.GetPath().c_str();
-  props.m_libFolder = URIUtils::GetDirectory(m_parentLib).c_str();
+  
+  std::string libFolder = URIUtils::GetDirectory(m_parentLib);
+  props.m_libFolder = libFolder.c_str();
 
   bool ret = false;
   try
